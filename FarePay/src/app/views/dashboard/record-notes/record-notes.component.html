<!-- NavBar -->
<nav class="toolbar fixed-top" role="banner">
    <a [routerLink]="['/']">
      <button 
      class="btn btn-rounded btn-icon btn-outline-primary m-1 ml-4 mt-3">
      <i class="material-icons md-28 pt-1">keyboard_arrow_left</i>
    </button>    
  </a>
    <span class="ml-1" [routerLink]="['/']">FarePay</span>
  </nav>


<div class="user-profile o-hidden mb-4">

  <div *ngIf="client">
    <div class="user-info mt-2">
      <div class="mt-5"></div>
      <strong class="mt-3 text-18 app-header">Pet Name: {{client?.name}}</strong>
      <span class="">{{client?.client | titlecase}} {{client?.details.type | titlecase}}</span>
      <span class="">{{client?.details?.day | titlecase }} {{client?.details?.time | dateTime }},
        {{client?.details?.time | dateDate }}</span>
    </div>


    <div class="container mt-3">
      <form [formGroup]="notesForm" (ngSubmit)="saveNotes()">
        <div class="row">
          <div class="col-md-6 form-group mb-3">
            <label for="notes">Notes</label>
            <textarea rows="4" cols="50" class="form-control form-control-rounded" type="text" id="notes"
              formControlName="notes" placeholder="Notes.."> </textarea>
          </div>

          <div class="col-md-6 form-group mb-3">
                <label for="medication">Medication</label>
                <input class="form-control form-control-rounded" type="text" id="medication" formControlName="medication"
                placeholder="Medication.." />
            </div>

          <div class="col-md-6 form-group mb-3">
            <label for="cost">Cost</label>
            <input class="form-control form-control-rounded" type="text" id="cost" formControlName="cost"
              placeholder="Cost.." />
          </div>

          <div class="col-md-12 form-group mb-3">
                <label for="time">Time</label>
                <ngb-timepicker formControlName="time"  id="time" 
                ></ngb-timepicker>
              </div>

          <div class="col-md-6 form-group">
            <label for="follow_up_date">Follow Up Date</label>
            <div class="input-group">
              <input type="text" class="form-control form-control-rounded" ngbDatepicker #startDate="ngbDatepicker"
                placeholder="YYYY-MM-DD" name="follow_up_date" formControlName="follow_up_date">
              <div class="input-group-append">
                <button class="btn btn-primary btn-rounded" (click)="startDate.toggle()" type="button">
                  <i class="material-icons">calendar_today</i>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="d-flex justify-content-between col-md-12 mt-4">
          <button class="btn btn-primary btn-rounded w-100 m-0" data-toggle="tooltip" data-placement="bottom"
            title="Save Notes">Save</button>
        </div>
        <div *ngIf="error" class="alert alert-danger mt-3 mb-0">{{error}}</div>

      </form>
    </div>
  </div>

  <div class="center" *ngIf="!client">
    <div class="loader-bubble loader-bubble-info m-5"></div>
  </div>

</div>
